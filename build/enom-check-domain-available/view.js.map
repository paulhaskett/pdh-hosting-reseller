{"version":3,"file":"enom-check-domain-available/view.js","mappings":"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","sources":["webpack://pdh-hosting-reseller/./src/enom-check-domain-available/view.js"],"sourcesContent":["console.log(\"Domain widget view.js loaded\")\n\nif (typeof window.DomainWidget === 'undefined') {\n\tconsole.error('DomainWidget object not found')\n} else {\n\tconsole.log('DomainWidget config:', window.DomainWidget)\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n\tdocument.querySelectorAll('.domain-search-form').forEach(form => {\n\t\tconst resultDiv = form.querySelector('.domain-search-result') || (() => {\n\t\t\tconst div = document.createElement('div')\n\t\t\tdiv.className = 'domain-search-result'\n\t\t\tform.appendChild(div)\n\t\t\treturn div\n\t\t})()\n\n\t\tform.addEventListener('submit', async (e) => {\n\t\t\te.preventDefault()\n\t\t\tconst domainInput = form.querySelector('input[name=\"domain\"]')\n\t\t\tconst tldSelect = form.querySelector('select[name=\"tld\"]')\n\t\t\tconst domain = domainInput.value.trim()\n\t\t\tconst tld = tldSelect.value\n\t\t\tconst domain_name_field = document.getElementById('domain_name')\n\n\t\t\tif (!domain) return resultDiv.textContent = \"Please enter a valid domain\"\n\n\t\t\tresultDiv.textContent = 'Checking…'\n\n\t\t\ttry {\n\t\t\t\tconst response = await fetch('/wp-json/pdh-enom/v2/check-domain', {\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t\t'X-WP-Nonce': DomainWidget.token\n\t\t\t\t\t},\n\t\t\t\t\tbody: JSON.stringify({ domain, tld })\n\t\t\t\t})\n\n\t\t\t\tconst data = await response.json()\n\t\t\t\tconsole.log('API Response:', data)\n\n\t\t\t\tconst result = data['Domains']\n\t\t\t\tconst available = result.Domain.RRPText !== 'Domain not available'\n\t\t\t\tconst prices = result.Domain.Prices\n\t\t\t\tconst regPrice = parseFloat(prices.Registration)\n\n\t\t\t\tconsole.log('Domain:', result.Domain.Name)\n\t\t\t\tconsole.log('Available:', available)\n\t\t\t\tconsole.log('Price:', regPrice)\n\n\t\t\t\tif (available) {\n\t\t\t\t\tresultDiv.textContent = `✅ Domain ${result.Domain.Name} is available! ${DomainWidget.currencySymbol}${regPrice} to register!`\n\n\t\t\t\t\t// If we're on the product page\n\t\t\t\t\tif (domain_name_field) {\n\t\t\t\t\t\tdomain_name_field.value = result.Domain.Name\n\n\t\t\t\t\t\t// Update displayed price\n\t\t\t\t\t\tupdateDomainPriceOnPage(regPrice)\n\n\t\t\t\t\t\t// Get the product form\n\t\t\t\t\t\tconst productForm = document.querySelector('form.cart')\n\t\t\t\t\t\tif (productForm) {\n\t\t\t\t\t\t\t// Ensure hidden fields exist with correct values\n\t\t\t\t\t\t\tensureHiddenField(productForm, 'domain_name', domain)\n\t\t\t\t\t\t\tensureHiddenField(productForm, 'domain_tld', tld)\n\t\t\t\t\t\t\tensureHiddenField(productForm, 'domain_registration_price', regPrice.toString())\n\n\t\t\t\t\t\t\tconsole.log('Hidden fields set:', {\n\t\t\t\t\t\t\t\tdomain_name: domain,\n\t\t\t\t\t\t\t\tdomain_tld: tld,\n\t\t\t\t\t\t\t\tdomain_registration_price: regPrice\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Also add via REST API for immediate cart update\n\t\t\t\t\t\t// await addDomainToCart(domain, tld, regPrice)\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Not on product page - show button to go there\n\t\t\t\t\t\tconst button = document.createElement('a')\n\t\t\t\t\t\tbutton.textContent = 'Configure Domain Registration'\n\t\t\t\t\t\tbutton.href = '/product/register-domain/?domain_name=' +\n\t\t\t\t\t\t\tencodeURIComponent(result.Domain.Name) +\n\t\t\t\t\t\t\t'&price=' + encodeURIComponent(regPrice)\n\t\t\t\t\t\tbutton.className = 'wp-element-button configure-domain-btn'\n\t\t\t\t\t\tconst buttonContainer = document.createElement('div')\n\t\t\t\t\t\tbuttonContainer.appendChild(button)\n\t\t\t\t\t\tresultDiv.appendChild(buttonContainer)\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (domain_name_field) {\n\t\t\t\t\t\tdomain_name_field.value = ''\n\t\t\t\t\t}\n\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconsole.log('Fetching name suggestions for', result.Domain.Name)\n\t\t\t\t\t\tconst namesuggestions = await fetch('/wp-json/pdh-enom/v2/get-name-suggestions', {\n\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t\t\t\t'X-WP-Nonce': DomainWidget.token\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tbody: JSON.stringify({ searchterm: result.Domain.Name })\n\t\t\t\t\t\t})\n\n\t\t\t\t\t\tconst suggData = await namesuggestions.json()\n\t\t\t\t\t\tconst suggestions = suggData['DomainSuggestions'] || []\n\n\t\t\t\t\t\tresultDiv.textContent = `❌ Domain ${result.Domain.Name} is taken.`\n\n\t\t\t\t\t\tif (suggestions['Domain'] && suggestions['Domain'].length > 0) {\n\t\t\t\t\t\t\tconst suggestionsDiv = document.createElement('div')\n\t\t\t\t\t\t\tsuggestionsDiv.className = 'domain-suggestions'\n\t\t\t\t\t\t\tsuggestionsDiv.innerHTML = '<div class=\"domain-suggestions\"><strong>Suggestions:</strong><ul class=\"domain-name-suggestions\">' +\n\t\t\t\t\t\t\t\tsuggestions['Domain'].map(s => `<li>${s}</li>`).join('') +\n\t\t\t\t\t\t\t\t'</ul></div>'\n\t\t\t\t\t\t\tresultDiv.appendChild(suggestionsDiv)\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\tconsole.error('Error fetching name suggestions', err)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error('Error checking domain:', err)\n\t\t\t\tresultDiv.textContent = 'Error checking domain.'\n\t\t\t}\n\t\t})\n\t})\n})\n\n// Ensure a hidden field exists and has the correct value\nfunction ensureHiddenField(form, name, value) {\n\tlet field = form.querySelector(`input[name=\"${name}\"]`)\n\tif (!field) {\n\t\tfield = document.createElement('input')\n\t\tfield.type = 'hidden'\n\t\tfield.name = name\n\t\tform.appendChild(field)\n\t\tconsole.log(`Created hidden field: ${name}`)\n\t}\n\tfield.value = value\n\tconsole.log(`Set ${name} = ${value}`)\n}\n\n// Update the displayed price on the page\nfunction updateDomainPriceOnPage(newPrice) {\n\tif (typeof newPrice === 'string') newPrice = parseFloat(newPrice.replace(/[^0-9\\.\\-]+/g, ''))\n\tif (isNaN(newPrice)) return\n\n\tconst formatted = newPrice.toFixed(2)\n\tconsole.log('Updating price on page to:', formatted)\n\n\tdocument.querySelectorAll('.woocommerce-Price-amount.amount').forEach(el => {\n\t\tconst currencySpan = el.querySelector('.woocommerce-Price-currencySymbol')\n\t\tif (currencySpan) {\n\t\t\tconst currencyHtml = currencySpan.outerHTML\n\t\t\tel.innerHTML = `<bdi>${currencyHtml}${formatted}</bdi>`\n\t\t} else {\n\t\t\tconst symbol = (window.DomainWidget && DomainWidget.currencySymbol) ? DomainWidget.currencySymbol : '£'\n\t\t\tel.innerHTML = `<bdi><span class=\"woocommerce-Price-currencySymbol\">${symbol}</span>${formatted}</bdi>`\n\t\t}\n\t})\n}\n\n// Add domain to cart via REST API\nasync function addDomainToCart(domainName, domainTld, price) {\n\tconsole.log('Adding to cart via REST:', { domainName, domainTld, price })\n\n\ttry {\n\t\tconst response = await fetch('/wp-json/pdh-enom/v2/add-domain-to-cart', {\n\t\t\tmethod: 'POST',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t'X-WP-Nonce': DomainWidget.token\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tdomain_name: domainName,\n\t\t\t\tdomain_tld: domainTld,\n\t\t\t\tdomain_registration_price: price\n\t\t\t})\n\t\t})\n\n\t\tconst data = await response.json()\n\t\tconsole.log('Add to cart response:', data)\n\n\t\tif (data.success) {\n\t\t\tconsole.log('✅ Domain added to cart successfully')\n\t\t\t// Optionally refresh cart widget\n\t\t\tif (typeof jQuery !== 'undefined') {\n\t\t\t\tjQuery(document.body).trigger('wc_fragment_refresh')\n\t\t\t}\n\t\t} else {\n\t\t\tconsole.error('❌ Failed to add domain to cart:', data)\n\t\t}\n\t} catch (err) {\n\t\tconsole.error('❌ Network error adding to cart:', err)\n\t}\n}"],"names":["console","log","window","DomainWidget","error","document","addEventListener","querySelectorAll","forEach","form","resultDiv","querySelector","div","createElement","className","appendChild","e","preventDefault","domainInput","tldSelect","domain","value","trim","tld","domain_name_field","getElementById","textContent","response","fetch","method","headers","token","body","JSON","stringify","data","json","result","available","Domain","RRPText","prices","Prices","regPrice","parseFloat","Registration","Name","currencySymbol","updateDomainPriceOnPage","productForm","ensureHiddenField","toString","domain_name","domain_tld","domain_registration_price","button","href","encodeURIComponent","buttonContainer","namesuggestions","searchterm","suggData","suggestions","length","suggestionsDiv","innerHTML","map","s","join","err","name","field","type","newPrice","replace","isNaN","formatted","toFixed","el","currencySpan","currencyHtml","outerHTML","symbol","addDomainToCart","domainName","domainTld","price","success","jQuery","trigger"],"sourceRoot":""}